<!DOCTYPE html>
<html>
<head>
  <title>World Happiness Report 2016</title>
  <!-- Import Vega & Vega-Lite (does not have to be from CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@4"></script>
  <!-- Import vega-embed -->
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
  <!-- Import pure.css -->
  <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/pure-min.css" integrity="sha384-cg6SkqEOCV1NbJoCu11+bm0NvBRc8IYLRGXkmNrqUBfTjmMYwNKPWBTIKyw9mHNJ" crossorigin="anonymous">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Google font -->
  <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;700;900&display=swap" rel="stylesheet">

  <!-- custom style -->
  <style>
    *{
      font-family: 'Source Sans Pro', sans-serif;
    }
    h1{
      font-weight: 900;
    }
     body{
       background-color: lightgray;
     }
     .page{
       width: 850px;    
       background-color: white;   
       margin: auto;
       padding: 50px;
       padding-top: 35px;
    }
    .vis-container{
      width: 100%;
    }
    .description h2, h1{
      margin-top:0px;
    }
    .description-right {
      padding-left: 20px;
    }
    .description-left{
      padding-right: 20px;
    }
    .pure-g{
      margin-bottom: 25px;
    }
    .small-font{
        font-size: 14px;
    }
  </style>
</head>
<body>

 <div class="page">

   <!-- pure grid group -->
    <div class="pure-g">
      <div class="pure-u-1-1">
        <h1>World Happiness Report 2016</h1>
        <p>The World Happiness Report is a landmark survey of the state of global happiness. 
          Leading experts across fields – economics, psychology, survey analysis, national 
          statistics, health, public policy and more – describe how measurements of well-being 
          can be used effectively to assess the progress of nations. The reports review the 
          state of happiness in the world today and show how the new science of happiness 
          explains personal and national variations in happiness. 
        </p>
      </div>
    </div>
  <!-- end pure grid group -->

    <!-- pure grid group -->
    <div class="pure-g">
        <div class="pure-u-1-3">
          <div class="description description-left">
            <h2>Map of World Happiness Score</h2>
            <p>The happiness scores and rankings use data from the Gallup World Poll. The 
              scores are based on answers to the main life evaluation question known as Cantril 
              Ladder which asks respondents to think of a ladder with the best possible life for 
              them being a 10 and the worst possible life being a 0 and to rate their own current 
              lives on that scale. 
              <br><br>There are six factors – economic production (GDP), life expectancy (Health), social 
              support (Family), freedom, absence of corruption (Trust), and generosity. They have 
              no impact on the total score reported for each country, but they do explain why some 
              countries rank higher than others.
            </p>
          </div>
        </div>
        <div class="pure-u-2-3">
          <div id="vis1" class="vis-container"></div>
        </div>
    </div>
    <!-- end pure grid group -->

    <!-- pure grid group -->
    <div class="pure-g">
        <div class="pure-u-2-3">
          <div id="vis2"  class="vis-container"></div>
        </div>
        <div class="pure-u-1-3">
          <div class="description description-right">
            <h2>Average Happiness Score of each Region</h2>
            <p>The bar-chart on the left is the average happiness score of each region, each bar represents 
              the average happiness score of countries belong to that region. The mean value of happiness 
              score of all countries is 5.38 out if 10, we can find out that 6 regions out of 10 has the 
              happiness score above the average. But the difference is significant, Australia and New Zealand 
              region got the highest score of 7.32 whereas Sub-Saharan Africa region only has a lowest score 
              of 4.14. In conclusion, people in most regions consider themselves are having a happy life, 
              especially in ANZ, North America and Western Europe regions, but the there's a great disparity 
              between these regions and region like Sub-Saharan Africa.
            </p>
          </div>
        </div>   
    </div>
    <!-- end pure grid group -->

    <!-- pure grid group -->
    <div class="pure-g">
        <div class="pure-u-1-3">
          <div class="description description-left">
            <h2>Economic Impact on Happiness Score</h2>
            <p>Gross domestic production also known as GDP is the total monetary of all the finished goods 
              and services produced within a country's borders in a specific time period. It is a important 
              representation of the economy level in a country. Does GDP affects the happiness score?
              <br><br>From the visualisation on the left, we can clearly observe a strong positive linear relationship, 
              the happiness score rises as GDP rating increases, countries like Norway and Switzerland with 
              highest score come with high GDP rating. But there are some outliers as well, take Syria as an 
              example, it has similar GDP rating to India, but the happiness score is much lower than India. 
              On the contrary, Somalia's happiness score is above the average while the GDP rating is lowest 
              among all of the countries. In conclusion, GDP is the dominant factor of happiness score for most 
              countries, but there are other factors affecting the result.
            </p>
          </div>
        </div>
        <div class="pure-u-2-3">
          <div id="vis3"  class="vis-container"></div>
        </div>
    </div>
    <!-- end pure grid group --> 

    <!-- pure grid group -->
    <div class="pure-g">
      <div class="pure-u-1-1">
        <h2>Analysis on More Factors</h2>
        <p>As I mentioned above, GDP is the dominant factor on happiness score, but it cannot explain the 
          situation for countries like Syria and Somalia, so there must be other factors affecting the 
          happiness score. Another questions is are these factors interrelated?
          <br><br>From the scatterplot matrix showing relationship among happiness score, GDP, social support 
          and health below, we can observe that health and social support rating also has strong positive 
          linear relationship with happiness score, but obviously the coefficient of determination between 
          the happiness score and GDP is still the greatest among three relationships. We found explaination 
          for situation of Syria in graph of social_support vs score, we can see that Syria is the bottom
          third of Social Support rating, and the relation shows that countries with low social support rating
          are more likely to have low happiness score.
          <br><br>From relationship among these three factors, we can find that GDP rating has positive effects 
          on health and social support rating, countries with higher GDP rating are more likely to have high 
          rating on health and social support.
        </p>
      </div>
    </div>
  <!-- end pure grid group -->

    <!-- pure grid group -->
    <div class="pure-g">
        <div class="pure-u-1-1">
          <div id="vis4"  class="vis-container"></div>
        </div>
      </div>
    <!-- end pure grid group -->

      <div class="pure-g">
        <div class="pure-u-1-1 small-font">
          <p>This visualisation is created by Jingbo Yang</p>
        </div>
      </div>
  </div> <!-- end page -->
   
<script type="text/javascript">
  var specVis1 = "js/world_happiness.vg.json";
  var specVis2= "js/region_score.vg.json";
  var specVis3 = "js/eco_score.vg.json";
  var specVis4 = "js/scatterplot_matrix.vg.json";


  vegaEmbed('#vis1', specVis1, {"actions": false}).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);
  
   vegaEmbed('#vis2', specVis2, {"actions": false}).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);

  vegaEmbed('#vis3', specVis3, {"actions": false}).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);

  vegaEmbed('#vis4', specVis4, {"actions": false}).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);

</script>
</body>
</html>