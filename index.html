<!DOCTYPE html>
<html>
<head>
  <title>World Happiness Report 2016</title>
  <!-- Import Vega & Vega-Lite (does not have to be from CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@4"></script>
  <!-- Import vega-embed -->
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
  <!-- Import pure.css -->
  <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/pure-min.css" integrity="sha384-cg6SkqEOCV1NbJoCu11+bm0NvBRc8IYLRGXkmNrqUBfTjmMYwNKPWBTIKyw9mHNJ" crossorigin="anonymous">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Google font -->
  <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;700;900&display=swap" rel="stylesheet">

  <!-- custom style -->
  <style>
    *{
      font-family: 'Source Sans Pro', sans-serif;
    }
    h1{
      font-weight: 900;
    }
     body{
       background-color: lightgray;
     }
     .page{
       width: 850px;    
       background-color: white;   
       margin: auto;
       padding: 50px;
       padding-top: 35px;
    }
    .vis-container{
      width: 100%;
    }
    .description h2, h1{
      margin-top:0px;
    }
    .description-right {
      padding-left: 20px;
    }
    .description-left{
      padding-right: 20px;
    }
    .pure-g{
      margin-bottom: 25px;
    }
    .small-font{
        font-size: 14px;
    }
  </style>
</head>
<body>

 <div class="page">

   <!-- pure grid group -->
    <div class="pure-g">
      <div class="pure-u-1-1">
        <h1>World Happiness Report 2016</h1>
        <p>The World Happiness Report is a landmark survey of the state of global happiness. 
          Leading experts across fields – economics, psychology, survey analysis, national 
          statistics, health, public policy and more – describe how measurements of well-being 
          can be used effectively to assess the progress of nations. The reports review the 
          state of happiness in the world today and show how the new science of happiness 
          explains personal and national variations in happiness. </p>
      </div>
    </div>
  <!-- end pure grid group -->

    <!-- pure grid group -->
    <div class="pure-g">
        <div class="pure-u-1-3">
          <div class="description description-left">
            <h2>Map of World Happiness Score</h2>
            <p>The happiness scores and rankings use data from the Gallup World Poll. The 
              scores are based on answers to the main life evaluation question known as Cantril 
              Ladder which asks respondents to think of a ladder with the best possible life for 
              them being a 10 and the worst possible life being a 0 and to rate their own current 
              lives on that scale. 
              <br>There are six factors – economic production (GDP), life expectancy (Health), social 
              support (Family), freedom, absence of corruption (Trust), and generosity. They have 
              no impact on the total score reported for each country, but they do explain why some 
              countries rank higher than others.</p>
          </div>
        </div>
        <div class="pure-u-2-3">
          <div id="vis1" class="vis-container"></div>
        </div>
    </div>
    <!-- end pure grid group -->

    <!-- pure grid group -->
    <div class="pure-g">
        <div class="pure-u-2-3">
          <div id="vis2"  class="vis-container"></div>
        </div>
        <div class="pure-u-1-3">
          <div class="description description-right">
            <h2>Economic</h2>
            <p>Dystopia is an imaginary country that has the world’s least-happy people. The purpose 
              in establishing Dystopia is to have a benchmark against which all countries can be 
              favorably compared (no country performs more poorly than Dystopia) in terms of each of 
              the six key variables, thus allowing each sub-bar to be of positive width. The lowest 
              scores observed for the six key variables, therefore, characterize Dystopia. Since life 
              would be very unpleasant in a country with the world’s lowest incomes, lowest life 
              expectancy, lowest generosity, most corruption, least freedom and least social support, 
              it is referred to as “Dystopia,” in contrast to Utopia.</p>
          </div>
        </div>
    </div>
    <!-- end pure grid group --> 

    <!-- pure grid group -->
    <div class="pure-g">
        <div class="pure-u-1-3">
          <div class="description description-left">
            <h2>Average Happiness Score of each Region</h2>
            <p>The residuals, or unexplained components, differ for each country, reflecting the extent 
              to which the six variables either over- or under-explain average 2014-2016 life evaluations. 
              These residuals have an average value of approximately zero over the whole set of countries. 
              Figure 2.2 shows the average residual for each country when the equation in Table 2.1 is 
              applied to average 2014- 2016 data for the six variables in that country. We combine these 
              residuals with the estimate for life evaluations in Dystopia so that the combined bar will 
              always have positive values. As can be seen in Figure 2.2, although some life evaluation 
              residuals are quite large, occasionally exceeding one point on the scale from 0 to 10, they 
              are always much smaller than the calculated value in Dystopia, where the average life is 
              rated at 1.85 on the 0 to 10 scale.</p>
          </div>
        </div>
        <div class="pure-u-2-3">
          <div id="vis3"  class="vis-container"></div>
        </div>
    </div>
    <!-- end pure grid group -->

    <!-- pure grid group -->
    <div class="pure-g">
        <div class="pure-u-1-1">
          <div id="vis4"  class="vis-container"></div>
        </div>
      </div>
    <!-- end pure grid group -->

      <div class="pure-g">
        <div class="pure-u-1-1 small-font">
          <p>This visualisation is created by Jingbo Yang</p>
        </div>
      </div>
  </div> <!-- end page -->
   
<script type="text/javascript">
  var specVis1 = "js/world_happiness.vg.json";
  var specVis2= "js/eco_score.vg.json";
  var specVis3 = "js/region_score.vg.json";
  var specVis4 = "js/scatterplot_matrix.vg.json";


  vegaEmbed('#vis1', specVis1, {"actions": false}).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);
  
   vegaEmbed('#vis2', specVis2, {"actions": false}).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);

  vegaEmbed('#vis3', specVis3, {"actions": false}).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);

</script>
</body>
</html>